{"version":3,"file":"main.js","mappings":"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","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./projects/angular-cropperjs/src/lib/angular-cropperjs.service.ts","./projects/angular-cropperjs/src/lib/cropper/cropper.component.html","./projects/angular-cropperjs/src/lib/cropper/cropper.component.ts","./projects/angular-cropperjs/src/lib/angular-cropperjs.module.ts","./projects/angular-cropperjs/src/public_api.ts","./projects/angular-cropperjs/src/angular-cropperjs.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/environments/environment.ts","./src/main.ts","./src/app/app.component.html"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularCropperjsService {\n\n  constructor() { }\n}\n","<!-- CROPPER WRAPPER -->\n<div class=\"cropper-wrapper\">\n\n    <!-- LOADING -->\n    <div class=\"loading-block\" *ngIf=\"isLoading\">\n        <div class=\"spinner\"></div>\n    </div>\n\n    <!-- LOAD ERROR -->\n    <div class=\"alert alert-warning\" *ngIf=\"loadError\">{{ loadImageErrorText }}</div>\n\n    <!-- CROPPER -->\n    <div class=\"cropper\">\n        <img #image alt=\"image\" [src]=\"imageUrl\" (load)=\"imageLoaded($event)\" (error)=\"imageLoadError($event)\" />\n    </div>\n</div>\n","import { Component, OnInit, OnDestroy, ViewEncapsulation, ElementRef, ViewChild, Input, EventEmitter, Output } from '@angular/core';\nimport Cropper from 'cropperjs';\n\nexport interface ImageCropperSetting {\n    width: number;\n    height: number;\n}\n\nexport interface ImageCropperResult {\n    imageData: Cropper.ImageData;\n    cropData: Cropper.CropBoxData;\n    blob?: Blob;\n    dataUrl?: string;\n}\n\n@Component({\n    selector: 'angular-cropper',\n    templateUrl: './cropper.component.html',\n    styleUrls: ['./cropper.component.css'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class CropperComponent implements OnInit, OnDestroy {\n\n    @ViewChild('image', { read: ElementRef, static: true }) image: ElementRef;\n\n    @Input() imageUrl: any;\n    @Input() settings: ImageCropperSetting;\n    @Input() cropbox: Cropper.CropBoxData;\n    @Input() loadImageErrorText: string;\n    @Input() cropperOptions: any = {};\n\n    @Output() export = new EventEmitter<ImageCropperResult>();\n    @Output() ready = new EventEmitter();\n\n    public isLoading: boolean = true;\n    public cropper: Cropper;\n    public imageElement: HTMLImageElement;\n    public loadError: any;\n\n    constructor() { }\n\n    public ngOnInit(): void {}\n\n    public ngOnDestroy(): void {\n      if(this.cropper) {\n        this.cropper.destroy();\n        this.cropper = null;\n      }\n    }\n\n    /**\n     * Image loaded\n     * @param ev\n     */\n    public imageLoaded(ev: Event): void {\n\n        //\n        // Unset load error state\n        this.loadError = false;\n\n        //\n        // Setup image element\n        const image = ev.target as HTMLImageElement;\n        this.imageElement = image;\n\n        //\n        // Add crossOrigin?\n        if (this.cropperOptions.checkCrossOrigin) {\n            image.crossOrigin = 'anonymous';\n        }\n\n        //\n        // Image on ready event\n        image.addEventListener('ready', () => {\n            //\n            // Emit ready\n            this.ready.emit(true);\n\n            //\n            // Unset loading state\n            this.isLoading = false;\n\n            //\n            // Validate cropbox existance\n            if (this.cropbox) {\n\n                //\n                // Set cropbox data\n                this.cropper.setCropBoxData(this.cropbox);\n            }\n        });\n\n        //\n        // Setup aspect ratio according to settings\n        let aspectRatio = NaN;\n        if (this.settings) {\n            const { width, height } = this.settings;\n            aspectRatio = width / height;\n        }\n\n        //\n        // Set crop options\n        // extend default with custom config\n        this.cropperOptions = Object.assign({\n            aspectRatio,\n            movable: false,\n            scalable: false,\n            zoomable: false,\n            viewMode: 1,\n            checkCrossOrigin: true\n        }, this.cropperOptions);\n\n        //\n        // Set cropperjs\n        if (this.cropper) {\n            this.cropper.destroy();\n            this.cropper = undefined;\n        }\n        this.cropper = new Cropper(image, this.cropperOptions);\n    }\n\n    /**\n     * Image load error\n     * @param event\n     */\n    public imageLoadError(event: any): void {\n\n        //\n        // Set load error state\n        this.loadError = true;\n\n        //\n        // Unset loading state\n        this.isLoading = false;\n    }\n\n    /**\n     * Export canvas\n     * @param base64\n     */\n    public exportCanvas(base64?: any): void {\n\n        //\n        // Get and set image, crop and canvas data\n        const imageData = this.cropper.getImageData();\n        const cropData = this.cropper.getCropBoxData();\n        const canvas = this.cropper.getCroppedCanvas();\n        const data = { imageData, cropData };\n\n        //\n        // Create promise to resolve canvas data\n        const promise = new Promise(resolve => {\n\n            //\n            // Validate base64\n            if (base64) {\n\n                //\n                // Resolve promise with dataUrl\n                return resolve({\n                    dataUrl: canvas.toDataURL('image/png')\n                });\n            }\n            canvas.toBlob(blob => resolve({ blob }));\n        });\n\n        //\n        // Emit export data when promise is ready\n        promise.then(res => {\n            this.export.emit(Object.assign(data, res));\n        });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CropperComponent } from './cropper/cropper.component';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [CropperComponent],\n    exports: [CropperComponent]\n})\nexport class AngularCropperjsModule { }\n","/*\n * Public API Surface of angular-cropperjs\n */\n\nexport * from './lib/angular-cropperjs.service';\nexport * from './lib/cropper/cropper.component';\nexport * from './lib/angular-cropperjs.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { AngularCropperjsModule } from 'angular-cropperjs';\n\n@NgModule({\n    declarations: [\n        AppComponent\n    ],\n    imports: [\n        BrowserModule,\n        AngularCropperjsModule\n    ],\n    providers: [],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","export default \"<!--The content below is only a placeholder and can be replaced.-->\\n<div style=\\\"text-align:center\\\">\\n    <h1>\\n        Welcome to {{ title }}!\\n    </h1>\\n    <img width=\\\"300\\\" alt=\\\"Angular Logo\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\n</div>\\n<h2>Example</h2>\\n<angular-cropper [cropperOptions]=\\\"{ checkCrossOrigin: true }\\\" [imageUrl]=\\\"'https://fengyuanchen.github.io/cropperjs/images/picture.jpg'\\\"></angular-cropper>\\n\";"],"names":["AngularCropperjsService","factory","providedIn","Injectable","i0","CropperComponent","EventEmitter","cropper","destroy","ev","loadError","image","target","imageElement","cropperOptions","checkCrossOrigin","crossOrigin","addEventListener","ready","emit","isLoading","cropbox","setCropBoxData","aspectRatio","NaN","settings","width","height","Object","assign","movable","scalable","zoomable","viewMode","undefined","Cropper","event","base64","imageData","getImageData","cropData","getCropBoxData","canvas","getCroppedCanvas","data","promise","Promise","resolve","dataUrl","toDataURL","toBlob","blob","then","export","res","selectors","viewQuery","ElementRef","ctx","Component","selector","templateUrl","styleUrls","encapsulation","ViewEncapsulation","None","ViewChild","read","static","imageUrl","Input","loadImageErrorText","Output","AngularCropperjsModule","CommonModule","NgModule","imports","declarations","exports"],"sourceRoot":"webpack:///"}